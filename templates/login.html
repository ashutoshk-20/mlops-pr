<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-4">
    <div class="max-w-md mx-auto mt-10">
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">Login</h2>
        {% if error %}
            <p class="text-red-500 text-center mb-4">{{ error }}</p>
        {% endif %}
        <form method="POST" action="{{ url_for('login') }}" class="bg-white p-6 rounded-lg shadow-lg">
            {% if step != 'otp' %}
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="email">Email</label>
                    <input type="email" id="email" name="email" required class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your email">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="password">Password</label>
                    <input type="password" id="password" name="password" required class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your password">
                </div>
                <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition duration-200">Login</button>
            {% else %}
                <div class="mb-4">
                    <p class="text-gray-700 text-center mb-2">Your OTP (also logged in console):</p>
                    <p class="text-blue-500 text-center font-bold">{{ otp }}</p>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="otp">Enter OTP</label>
                    <input type="text" id="otp" name="otp" required class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter the OTP">
                </div>
                <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition duration-200">Verify OTP</button>
            {% endif %}
        </form>
        <p class="text-center mt-4 text-gray-600">Don't have an account? <a href="{{ url_for('register') }}" class="text-blue-500 hover:underline">Register</a></p>
    </div>
</body>
</html>